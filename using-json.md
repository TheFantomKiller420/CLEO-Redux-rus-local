## Использование JSON

### Что такое JSON

Чтож друзья, начнём с теории. 

[Кое-что](https://github.com/TheFantomKiller420/CLEO-Redux-rus-local/blob/master/readme.md#json) я вам уже рассказал. 

JSON (JavaScript Object Notation) - это легкий формат для обмена данными. Создан он на основе JavaScript. 

### Где можно использовать JSON? 

У вас может возникнуть вопрос, где же этот самый JSON можно использовать? 

- Хранение данных
- Конфигурация и проверка данных
- Генерация структур данных из пользовательского ввода

### Структура JSON файла

Файлы JSON состоят из серии пар ключ / значение.

```json
{ "ключ": "значение"}
```

Обратите внимание, что ключ и значение заключены в двойные кавычки.

### Хранимые типы данных

- Строки (обязательно в двойных кавычках)
- Числа
- Объекты
- Массивы
- Bool'евые значения (true/false)
- null

Каждый из типов данных, которые передаются в JSON как значения, будет поддерживать свой собственный синтаксис, к примеру строки будут заключены в двойные кавычки, а числа не будут. 

Пример:

```json
{
  "name": "Глеб", 
  "age": 13,
  "friends": ["Савелий", "Николай"], 
  "address":{
    "street": "Пушкина", 
    "home: "Колотушкина"
  }, 
  "programmer": true, 
  "pets": null
}
```

В этом примере я показал вам всё возможные хранимые типы данных. 

Когда вы работаете с JSON, вы можете также встретить JSON как объект или строку в контексте программы. Если ваш JSON-объект находится в файле `.js` - он, вероятно, будет в переменной. Тогда наш пример будет выглядеть так:

```js
let contacts = {
  name: "Глеб", 
  age: 13,
  friends: ["Савелий", "Николай"], 
  address:{
    street: "Пушкина", 
    home: "Колотушкина"
  }, 
  programmer: true, 
  pets: null
}
```

Также допускается что JSON объекты можно записывать к одну строку. 

Вот как наш пример выглядел бы, если бы он был записан в строку:

```json
{"name": "Глеб", "age": 13, "friends": ["Савелий", "Николай"], "address":{ "street": "Пушкина", "home": "Колотушкина" }, "programmer": true, "pets": null}
```

Это ни чем не будет отличаться от нашего первого примера, но согласитесь в таком коде проще запутаться и он менее элегантный. 

А вот если наш JSON объект имеет внутри себя не много, а к примеру одно или два значения, то такая запись вполне уместна, вот например:

```json
{"name": "Глеб", "age": 13}
```

Согласитесь, ведь такая запись много места не занимает и смотрится вполне лаконично. 

### Использование JSON в JavaScript

Хорошо скажите вы, про JSON ты нам рассказал, мы поняли, но мы сюда скрипты писать пришли, а не документацию читатьчитать, нам практику подавай. 

Ну чтож, слушайте. 

В JavaScript существует объект JSON и у него есть 2 метода: JSON.stringify() и JSON.parse() вот о них я вам прямо сейчас и расскажу. 

#### Метод JSON.stringify()

Метод JSON.stringify() преобразует объект JavaScript в строку JSON. Строки имеют малый вес и поэтому очень полезны при передаче данных. 

Давайте вернем наш предыдущий пример и назначим метод JSON.stringify() переменной s. Мы передаём объект наших контактов в функцию:

```js
let contacts = {
  name: "Глеб", 
  age: 13,
  friends: ["Савелий", "Николай"], 
  address:{
    street: "Пушкина", 
    home: "Колотушкина"
  }, 
  programmer: true, 
  pets: null
}
let s = JSON.stringify(contacts);
```

Если мы теперь посмотрим на s в консоли, то увидим доступный нам JSON в виде строки, а не объекта:

```js
'{"name": "Глеб", "age": 13, "friends": ["Савелий", "Николай"], "address":{ "street": "Пушкина", "home": "Колотушкина" }, "programmer": true, "pets": null}'
```

Метод JSON.stringify() позволяет нам преобразовывать объекты в строки. Чтобы сделать обратное, мы используем метод JSON.parse().

#### Метод JSON.parse()

Чтобы преобразовать строку обратно в функцию, мы используем встроенную функцию JSON.parse(), чтобы декодировать строку.

```js
let contacts = JSON.parse(s);
```

#### Считывание элемента из JSON объекта

Считывание происходит с помощью данной команды:

```js
contacts.name // Глеб
contacts.address.home // Колотушкина
```

#### Импорт JSON файлов

Ну и наконец подойдём к самому главному, импорт `JSON` файлов. 

Для примера создадим `JSON` объект в котором информация из наших прошлых примеров содержится в объекте `gleb` (это сделано для того чтобы можно было обратиться ко всей информации сразу, а не к каждому объекту по отдельности.

```json
{
  "gleb": {
    "name": "Глеб", 
    "age": 13,
    "friends": ["Савелий", "Николай"], 
    "address":{
      "street": "Пушкина", 
      "home: "Колотушкина"
    }, 
    "programmer": true, 
    "pets": null
  }
}

К примеру наш файл называется `myInfo.json` и путь до него (из папки CLEO) `/config/myInfo.json`.

Тогда его импорт будет бы глядеть так:

```js
import { gleb } from '../../config/myInfo';
```

Ну вот, мы импортировали файл, но как же к нему обратиться? 

Обращаемся мы так же как раньше обращались к переменной в которой данный объект был записан, а сейчас вместо переменной мы используем имя импортируемого `JSON` объекта. 

Давайте например запишем результат в константу:

```js
const myInfo = gleb.age;
console.log(myInfo);
// => 13
```
